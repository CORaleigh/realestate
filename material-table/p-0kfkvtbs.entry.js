import{r as t,h as s,H as i,g as e}from"./p-443359a0.js";import{S as h,E as o,b as r,T as a,D as c,U as n,H as l,a as d}from"./p-32b30282.js";import{g as p}from"./p-790f957d.js";import{g as m}from"./p-bb8f15b1.js";const w=class{constructor(s){t(this,s),this.active=!1,this.alignment="left",this.theme="light",this.scale="m",this.items=[],this.sorted=!1,this.dropdownId=`calcite-dropdown-${m()}`,this.sortItems=t=>t.sort((t,s)=>t.position-s.position).concat.apply([],this.items.map(t=>t.items))}connectedCallback(){["left","right","center"].includes(this.alignment)||(this.alignment="left"),["light","dark"].includes(this.theme)||(this.theme="light"),["s","m","l"].includes(this.scale)||(this.scale="m")}componentDidLoad(){this.trigger=this.el.querySelector("[slot=dropdown-trigger]"),this.sorted||(this.items=this.sortItems(this.items),this.sorted=!0)}render(){const t=p(this.el),e=this.active.toString();return s(i,{dir:t,active:this.active,id:this.dropdownId},s("slot",{name:"dropdown-trigger","aria-haspopup":"true","aria-expanded":e}),s("div",{class:"calcite-dropdown-wrapper",role:"menu"},s("slot",null)))}openDropdown(t){"dropdown-trigger"===t.target.getAttribute("slot")&&(this.openCalciteDropdown(t),t.preventDefault())}closeCalciteDropdownOnClick(t){this.active&&t.target.offsetParent.id!==this.dropdownId&&this.closeCalciteDropdown()}closeCalciteDropdownOnEvent(){this.closeCalciteDropdown()}keyDownHandler(t){if("dropdown-trigger"===t.target.getAttribute("slot"))if("BUTTON"!==t.target.nodeName&&"CALCITE-BUTTON"!==t.target.nodeName)switch(t.keyCode){case h:case o:this.openCalciteDropdown(t);break;case r:this.closeCalciteDropdown()}else(t.keyCode===r||t.shiftKey&&t.keyCode===a)&&this.closeCalciteDropdown()}calciteDropdownItemKeyEvent(t){let s=t.detail.item,i="A"!==s.target.nodeName?s.target:s.target.parentNode,e=0===this.itemIndex(i),h=this.itemIndex(i)===this.items.length-1;switch(s.keyCode){case a:h&&!s.shiftKey?this.closeCalciteDropdown():e&&s.shiftKey?this.closeCalciteDropdown():s.shiftKey?this.focusPrevItem(i):this.focusNextItem(i);break;case c:this.focusNextItem(i);break;case n:this.focusPrevItem(i);break;case l:this.focusFirstItem();break;case d:this.focusLastItem()}}calciteDropdownMouseover(t){t.detail.target.focus()}registerCalciteDropdownGroup(t){this.items.push({items:t.detail.items,position:t.detail.position})}closeCalciteDropdown(){this.active=!1,this.trigger.focus()}focusFirstItem(){this.getFocusableElement(this.items[0])}focusLastItem(){this.getFocusableElement(this.items[this.items.length-1])}focusNextItem(t){const s=this.itemIndex(t);this.getFocusableElement(this.items[s+1]||this.items[0])}focusPrevItem(t){const s=this.itemIndex(t);this.getFocusableElement(this.items[s-1]||this.items[this.items.length-1])}itemIndex(t){return this.items.indexOf(t)}getFocusableElement(t){(t.attributes.isLink?t.shadowRoot.querySelector("a"):t).focus()}openCalciteDropdown(t){this.active=!this.active,t.detail||setTimeout(()=>this.focusFirstItem(),50)}get el(){return e(this)}static get style(){return":root{--calcite-global-ui-blue:#007ac2;--calcite-global-ui-blue-hover:#2890ce;--calcite-global-ui-blue-pressed:#00619b;--calcite-global-ui-green:#35ac46;--calcite-global-ui-green-hover:#50ba5f;--calcite-global-ui-green-pressed:#288835;--calcite-global-ui-yellow:#edd317;--calcite-global-ui-yellow-hover:#f9e54e;--calcite-global-ui-yellow-pressed:#d9bc00;--calcite-global-ui-red:#d83020;--calcite-global-ui-red-hover:#e65240;--calcite-global-ui-red-pressed:#a82b1e;--calcite-global-ui-background:#f8f8f8;--calcite-global-ui-foreground:#fff;--calcite-global-ui-foreground-hover:#f3f3f3;--calcite-global-ui-foreground-pressed:#eaeaea;--calcite-global-ui-text-1:#151515;--calcite-global-ui-text-2:#4a4a4a;--calcite-global-ui-text-3:#6a6a6a}:host([theme=dark]){--calcite-global-ui-blue-dark:$d-bb-420;--calcite-global-ui-blue-hover-dark:$d-bb-430;--calcite-global-ui-blue-pressed-dark:$d-bb-410;--calcite-global-ui-green-dark:$d-gg-420;--calcite-global-ui-green-hover-dark:$d-gg-430;--calcite-global-ui-green-pressed-dark:$d-gg-410;--calcite-global-ui-yellow-dark:$d-yy-420;--calcite-global-ui-yellow-hover-dark:$d-yy-430;--calcite-global-ui-yellow-pressed-dark:$d-yy-410;--calcite-global-ui-red-dark:$d-rr-420;--calcite-global-ui-red-hover-dark:$d-rr-430;--calcite-global-ui-red-pressed-dark:$d-rr-410;--calcite-global-ui-background-dark:$blk-210;--calcite-global-ui-foreground-dark:$blk-200;--calcite-global-ui-foreground-hover-dark:$blk-190;--calcite-global-ui-foreground-pressed-dark:$blk-180;--calcite-global-ui-text-1-dark:$blk-000;--calcite-global-ui-text-2-dark:$blk-060;--calcite-global-ui-text-3-dark:$blk-090}:host([hidden]){display:none}body{font-family:Avenir Next W01,Avenir Next W00,Avenir Next,Avenir,Helvetica Neue,sans-serif}.overflow-hidden{overflow:hidden}calcite-tab{display:none}calcite-tab[is-active]{display:block}a{color:#007ac2}:host{--calcite-dropdown-background-color:#fff;--calcite-dropdown-border-color:#eaeaea}:host([theme=dark]){--calcite-dropdown-background-color:#2b2b2b;--calcite-dropdown-border-color:#404040}:host{position:relative;display:inline-block}:host([active]) .calcite-dropdown-wrapper{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1;visibility:visible}:host .calcite-dropdown-wrapper{-webkit-transform:translate3d(0,-1.5rem,0);transform:translate3d(0,-1.5rem,0);-webkit-transition:.3s cubic-bezier(.215,.44,.42,.88),opacity .3s cubic-bezier(.215,.44,.42,.88),all .15s ease-in-out;transition:.3s cubic-bezier(.215,.44,.42,.88),opacity .3s cubic-bezier(.215,.44,.42,.88),all .15s ease-in-out;visibility:hidden;opacity:0;display:block;position:absolute;left:0;z-index:200;overflow:auto;width:auto;width:12.5rem;background:var(--calcite-dropdown-background-color);border:1px solid var(--calcite-dropdown-border-color);border-radius:2px;-webkit-box-shadow:0 0 12px 0 rgba(0,0,0,.15);box-shadow:0 0 12px 0 rgba(0,0,0,.15)}:host([alignment=right]) .calcite-dropdown-wrapper,:host([dir=rtl]) .calcite-dropdown-wrapper{right:0;left:unset}:host([dir=rtl][alignment=right]) .calcite-dropdown-wrapper{right:unset;left:0}:host([alignment=center]) .calcite-dropdown-wrapper{right:0;left:0;margin-right:auto;margin-left:auto}"}};export{w as calcite_dropdown};